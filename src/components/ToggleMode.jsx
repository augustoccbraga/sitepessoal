import React, { useEffect, useState } from "react";
import { AnimatedSvg } from "./AnimacaoToggle.style";

const ToggleMode = ({ mode, $animate, ...props }) => {
	const [rotate, setRotate] = useState(false);

	useEffect(() => {
		if ($animate) {
			setRotate(true);
			const timeout = setTimeout(() => setRotate(false), 500);
			return () => clearTimeout(timeout);
		}
	}, [$animate]);

	return mode === "dark" ? (
		<AnimatedSvg
			width="48"
			height="48"
			viewBox="0 0 48 48"
			fill="none"
			xmlns="http://www.w3.org/2000/svg"
			className={rotate ? "rotate" : ""}
			{...props}
		>
			<path
				d="M24 48C17.3333 48 11.6667 45.6667 7 41C2.33333 36.3333 0 30.6667 0 24C0 17.3333 2.33333 11.6667 7 7C11.6667 2.33333 17.3333 0 24 0C24.6222 0 25.2333 0.0222222 25.8333 0.0666667C26.4333 0.111111 27.0222 0.177778 27.6 0.266667C25.7778 1.55556 24.3222 3.23333 23.2333 5.3C22.1444 7.36667 21.6 9.6 21.6 12C21.6 16 23 19.4 25.8 22.2C28.6 25 32 26.4 36 26.4C38.4444 26.4 40.6889 25.8556 42.7333 24.7667C44.7778 23.6778 46.4444 22.2222 47.7333 20.4C47.8222 20.9778 47.8889 21.5667 47.9333 22.1667C47.9778 22.7667 48 23.3778 48 24C48 30.6667 45.6667 36.3333 41 41C36.3333 45.6667 30.6667 48 24 48ZM24 42.6667C27.9111 42.6667 31.4222 41.5889 34.5333 39.4333C37.6444 37.2778 39.9111 34.4667 41.3333 31C40.4444 31.2222 39.5556 31.4 38.6667 31.5333C37.7778 31.6667 36.8889 31.7333 36 31.7333C30.5333 31.7333 25.8778 29.8111 22.0333 25.9667C18.1889 22.1222 16.2667 17.4667 16.2667 12C16.2667 11.1111 16.3333 10.2222 16.4667 9.33333C16.6 8.44444 16.7778 7.55556 17 6.66667C13.5333 8.08889 10.7222 10.3556 8.56667 13.4667C6.41111 16.5778 5.33333 20.0889 5.33333 24C5.33333 29.1556 7.15556 33.5556 10.8 37.2C14.4444 40.8444 18.8444 42.6667 24 42.6667Z"
				fill="#EAE9FC"
			/>
		</AnimatedSvg>
	) : (
		<AnimatedSvg
			width="48"
			height="48"
			viewBox="0 0 48 48"
			fill="none"
			xmlns="http://www.w3.org/2000/svg"
			className={rotate ? "rotate" : ""}
			{...props}
		>
			<path
				d="M24 30.5455C25.8182 30.5455 27.3636 29.9091 28.6364 28.6364C29.9091 27.3636 30.5455 25.8182 30.5455 24C30.5455 22.1818 29.9091 20.6364 28.6364 19.3636C27.3636 18.0909 25.8182 17.4545 24 17.4545C22.1818 17.4545 20.6364 18.0909 19.3636 19.3636C18.0909 20.6364 17.4545 22.1818 17.4545 24C17.4545 25.8182 18.0909 27.3636 19.3636 28.6364C20.6364 29.9091 22.1818 30.5455 24 30.5455ZM24 34.9091C20.9818 34.9091 18.4091 33.8455 16.2818 31.7182C14.1545 29.5909 13.0909 27.0182 13.0909 24C13.0909 20.9818 14.1545 18.4091 16.2818 16.2818C18.4091 14.1545 20.9818 13.0909 24 13.0909C27.0182 13.0909 29.5909 14.1545 31.7182 16.2818C33.8455 18.4091 34.9091 20.9818 34.9091 24C34.9091 27.0182 33.8455 29.5909 31.7182 31.7182C29.5909 33.8455 27.0182 34.9091 24 34.9091ZM8.72727 26.1818H0V21.8182H8.72727V26.1818ZM48 26.1818H39.2727V21.8182H48V26.1818ZM21.8182 8.72727V0H26.1818V8.72727H21.8182ZM21.8182 48V39.2727H26.1818V48H21.8182ZM11.7818 14.7273L6.27273 9.43636L9.38182 6.21818L14.6182 11.6727L11.7818 14.7273ZM38.6182 41.7818L33.3273 36.2727L36.2182 33.2727L41.7273 38.5636L38.6182 41.7818ZM33.2727 11.7818L38.5636 6.27273L41.7818 9.38182L36.3273 14.6182L33.2727 11.7818ZM6.21818 38.6182L11.7273 33.3273L14.7273 36.2182L9.43636 41.7273L6.21818 38.6182Z"
				fill="#EAE9FC"
			/>
		</AnimatedSvg>
	);
};

export default ToggleMode;
